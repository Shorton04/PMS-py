IF lv_jcds_ts IS INITIAL
   AND lv_cdhdr_ts IS INITIAL
   AND lv_status_cancelled = abap_false.
  RETURN.
ENDIF.

" NOW safe to prevent duplicates
READ TABLE gt_output TRANSPORTING NO FIELDS
  WITH KEY MaintenanceOrder = ps_order-aufnr
  BINARY SEARCH.
IF sy-subrc = 0.
  RETURN.
ENDIF.